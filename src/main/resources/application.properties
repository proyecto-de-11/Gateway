# ============================================
# CONFIGURACION BASICA
# ============================================
spring.application.name=Gateway
server.port=${PORT:8080}

# ============================================
# SPRING CLOUD CONFIG
# ============================================
spring.cloud.config.enabled=false
spring.cloud.compatibility-verifier.enabled=false

# ============================================
# CONFIGURACION DE EUREKA CLIENT
# ============================================
eureka.instance.instance-id=${spring.application.name}:${random.uuid}
eureka.client.service-url.defaultZone=https://eurekaserver-vej9.onrender.com/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# ============================================
# CONFIGURACION DE SPRING CLOUD GATEWAY MVC
# Usando URLs DIRECTAS de Render (mas confiable)
# ============================================

# Ruta 0: Autenticacion (publica)
spring.cloud.gateway.mvc.routes[0].id=auth-service
spring.cloud.gateway.mvc.routes[0].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[0].predicates[0]=Path=/api/auth/**

# Ruta 1: Usuarios
spring.cloud.gateway.mvc.routes[1].id=usuarios-service
spring.cloud.gateway.mvc.routes[1].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[1].predicates[0]=Path=/api/usuarios/**

# Ruta 2: Roles
spring.cloud.gateway.mvc.routes[2].id=roles-service
spring.cloud.gateway.mvc.routes[2].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[2].predicates[0]=Path=/api/roles/**

# Ruta 3: Perfiles
spring.cloud.gateway.mvc.routes[3].id=perfiles-service
spring.cloud.gateway.mvc.routes[3].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[3].predicates[0]=Path=/api/perfiles/**

# Ruta 4: Preferencias
spring.cloud.gateway.mvc.routes[4].id=preferencias-service
spring.cloud.gateway.mvc.routes[4].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[4].predicates[0]=Path=/api/preferencias/**

# Ruta 5: Aceptaciones
spring.cloud.gateway.mvc.routes[5].id=aceptaciones-service
spring.cloud.gateway.mvc.routes[5].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[5].predicates[0]=Path=/api/aceptaciones/**

# Ruta 6: Usuario-Membresias
spring.cloud.gateway.mvc.routes[6].id=usuario-membresias-service
spring.cloud.gateway.mvc.routes[6].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[6].predicates[0]=Path=/api/usuario-membresias/**

# Ruta 7: Documentos Legales
spring.cloud.gateway.mvc.routes[7].id=documentos-service
spring.cloud.gateway.mvc.routes[7].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[7].predicates[0]=Path=/api/documentoslegales/**

# Ruta 8: Membresias
spring.cloud.gateway.mvc.routes[8].id=membresias-service
spring.cloud.gateway.mvc.routes[8].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[8].predicates[0]=Path=/api/membresias/**

# Ruta 9: Tipos de Deporte
spring.cloud.gateway.mvc.routes[9].id=tiposdeporte-service
spring.cloud.gateway.mvc.routes[9].uri=https://apiautentificacion.onrender.com
spring.cloud.gateway.mvc.routes[9].predicates[0]=Path=/api/tiposdeporte/**

# ============================================
# NUEVAS RUTAS PARA APIEquiposYJugadores
# URL base: https://apiequiposyjugadores-1.onrender.com
# ============================================

# Ruta 10: Equipos
spring.cloud.gateway.mvc.routes[10].id=equipos-service
spring.cloud.gateway.mvc.routes[10].uri=https://apiequiposyjugadores-1.onrender.com
spring.cloud.gateway.mvc.routes[10].predicates[0]=Path=/api/equipos/**

# Ruta 11: Miembros de Equipo
spring.cloud.gateway.mvc.routes[11].id=miembros-service
spring.cloud.gateway.mvc.routes[11].uri=https://apiequiposyjugadores-1.onrender.com
spring.cloud.gateway.mvc.routes[11].predicates[0]=Path=/api/miembros/**

# Ruta 12: Invitaciones
spring.cloud.gateway.mvc.routes[12].id=invitaciones-service
spring.cloud.gateway.mvc.routes[12].uri=https://apiequiposyjugadores-1.onrender.com
spring.cloud.gateway.mvc.routes[12].predicates[0]=Path=/api/invitaciones/**

# Ruta 13: Estad√≠sticas
spring.cloud.gateway.mvc.routes[13].id=estadisticas-service
spring.cloud.gateway.mvc.routes[13].uri=https://apiequiposyjugadores-1.onrender.com
spring.cloud.gateway.mvc.routes[13].predicates[0]=Path=/api/estadisticas/**

# ============================================
# JWT CONFIGURATION
# ============================================
security.jwt.secret-key=Y/I5T3T1aSOP+BezsicbSiUtzIZWxdcOVnylSYlJl/H22uPQID8VGjfzc5U5cVhKA6qm17V2yMP/mlrlTIkb+g==
security.jwt.expiration-time=86400000

# ============================================
# URLs DE MICROSERVICIOS (para referencia)
# ============================================
autenticacion.api.url=https://apiautentificacion.onrender.com

# ============================================
# CONFIGURACION DE SPRING CLOUD LOADBALANCER
# ============================================
spring.cloud.loadbalancer.ribbon.enabled=false

# ============================================
# CONFIGURACION PARA RENDER
# ============================================
server.forward-headers-strategy=framework

# ============================================
# ACTUATOR
# ============================================
management.endpoints.web.exposure.include=health,info,metrics,gateway
management.endpoint.health.show-details=always

# ============================================
# LOGGING
# ============================================
logging.level.org.esfe.Gateway=DEBUG
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.web=DEBUG