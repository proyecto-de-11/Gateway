# ============================================
# CONFIGURACION BASICA
# ============================================
spring.application.name=Gateway
server.port=${PORT:8080}

# ============================================
# SPRING CLOUD CONFIG
# ============================================
spring.cloud.config.enabled=false
spring.cloud.compatibility-verifier.enabled=false

# ============================================
# CONFIGURACION DE EUREKA CLIENT PARA RENDER
# ============================================
eureka.client.service-url.defaultZone=https://eurekaserver-vej9.onrender.com/eureka/

eureka.instance.instance-id=${spring.application.name}:${random.uuid}
eureka.instance.hostname=gateway-nb5y.onrender.com
eureka.instance.non-secure-port=80
eureka.instance.secure-port=443
eureka.instance.secure-port-enabled=true
eureka.instance.non-secure-port-enabled=false
eureka.instance.prefer-ip-address=false

eureka.instance.home-page-url=https://gateway-nb5y.onrender.com/
eureka.instance.status-page-url=https://gateway-nb5y.onrender.com/actuator/info
eureka.instance.health-check-url=https://gateway-nb5y.onrender.com/actuator/health

eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

eureka.instance.lease-renewal-interval-in-seconds=30
eureka.instance.lease-expiration-duration-in-seconds=90

eureka.client.registry-fetch-interval-seconds=30
eureka.client.initial-instance-info-replication-interval-seconds=40

# ============================================
# CONFIGURACION PARA RENDER
# ============================================
server.forward-headers-strategy=framework

# ============================================
# JWT CONFIGURATION
# ============================================
security.jwt.secret-key=Y/I5T3T1aSOP+BezsicbSiUtzIZWxdcOVnylSYlJl/H22uPQID8VGjfzc5U5cVhKA6qm17V2yMP/mlrlTIkb+g==
security.jwt.expiration-time=86400000

# ============================================
# CONFIGURACION DE SPRING CLOUD LOADBALANCER
# ============================================
spring.cloud.loadbalancer.ribbon.enabled=false
spring.cloud.loadbalancer.cache.enabled=true
spring.cloud.loadbalancer.cache.ttl=30s
spring.cloud.discovery.enabled=true

# ============================================
# ACTUATOR
# ============================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# ============================================
# LOGGING
# ============================================
logging.level.org.esfe.Gateway=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.com.netflix.eureka=INFO
logging.level.com.netflix.discovery=INFO
logging.level.org.springframework.cloud.client.loadbalancer=DEBUG