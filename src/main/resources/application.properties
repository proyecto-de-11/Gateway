spring.application.name=Gateway

server.port=${PORT:8080}

# Spring Cloud Config
spring.cloud.config.enabled=false
spring.cloud.compatibility-verifier.enabled=false

# Configuracion de Eureka Client
eureka.instance.instance-id=${spring.application.name}:${random.uuid}
eureka.client.service-url.defaultZone=https://eurekaserver-vej9.onrender.com/

#Aqui el resto

#Configuracions de las uris de los microservicios
# --- Ruta 0: Autenticación (pública) ---
spring.cloud.gateway.mvc.routes[0].id=autentificacion-auth
spring.cloud.gateway.mvc.routes[0].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[0].predicates[0]=Path=/api/auth/**

# --- Ruta 1: Usuarios (protegida) ---
spring.cloud.gateway.mvc.routes[1].id=autentificacion-usuarios
spring.cloud.gateway.mvc.routes[1].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[1].predicates[0]=Path=/api/usuarios/**

# --- Ruta 2: Roles (protegida) ---
spring.cloud.gateway.mvc.routes[2].id=autentificacion-roles
spring.cloud.gateway.mvc.routes[2].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[2].predicates[0]=Path=/api/roles/**

# --- Ruta 3: Perfiles (protegida) ---
spring.cloud.gateway.mvc.routes[3].id=autentificacion-perfiles
spring.cloud.gateway.mvc.routes[3].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[3].predicates[0]=Path=/api/perfiles/**

# --- Ruta 4: Preferencias (protegida) ---
spring.cloud.gateway.mvc.routes[4].id=autentificacion-preferencias
spring.cloud.gateway.mvc.routes[4].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[4].predicates[0]=Path=/api/preferencias/**

# --- Ruta 5: Aceptaciones (protegida) ---
spring.cloud.gateway.mvc.routes[5].id=autentificacion-aceptaciones
spring.cloud.gateway.mvc.routes[5].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[5].predicates[0]=Path=/api/aceptaciones/**

# --- Ruta 6: Usuario-Membresías (protegida) ---
spring.cloud.gateway.mvc.routes[6].id=autentificacion-usuario-membresias
spring.cloud.gateway.mvc.routes[6].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[6].predicates[0]=Path=/api/usuario-membresias/**

# --- Ruta 7: Documentos Legales (protegida) ---
spring.cloud.gateway.mvc.routes[7].id=autentificacion-documentos
spring.cloud.gateway.mvc.routes[7].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[7].predicates[0]=Path=/api/documentoslegales/**

# --- Ruta 8: Membresías (protegida) ---
spring.cloud.gateway.mvc.routes[8].id=autentificacion-membresias
spring.cloud.gateway.mvc.routes[8].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[8].predicates[0]=Path=/api/membresias/**

# --- Ruta 9: Tipos de Deporte (protegida) ---
spring.cloud.gateway.mvc.routes[9].id=autentificacion-tiposdeporte
spring.cloud.gateway.mvc.routes[9].uri=lb://Autentificacion-service
spring.cloud.gateway.mvc.routes[9].predicates[0]=Path=/api/tiposdeporte/**


# JWT Configuration - MISMA CLAVE QUE EN LOS MICROSERVICIOS
security.jwt.secret-key=Y/I5T3T1aSOP+BezsicbSiUtzIZWxdcOVnylSYlJl/H22uPQID8VGjfzc5U5cVhKA6qm17V2yMP/mlrlTIkb+g==

# URLs de los microservicios (para comunicaciï¿½n directa si es necesario)
usuario.api.url=https://apiautentificacion.onrender.com/

#fin de aqui el resto

# Configuraciï¿½n de logging para debug
logging.level.com.ApiGateway=DEBUG
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.web=DEBUG

# Configuraciï¿½n adicional para Spring Cloud LoadBalancer
spring.cloud.loadbalancer.ribbon.enabled=false
